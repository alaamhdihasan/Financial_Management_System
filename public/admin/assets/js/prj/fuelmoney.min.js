function fuelMoney_cleardata(){$("#Fm_ID").val(""),$("#Fm_Number").val(""),$("#Fm_Date").val(""),$("#Fm_State").val("")}function fuelMoney_checkdata(){0==$.trim($(".Fm_Number").val()).length?(error_Fm_Number="plz, input the JobCard Number",$("#error_Fm_Number").text(error_Fm_Number)):(error_Fm_Number="",$("#error_Fm_Number").text(error_Fm_Number)),0==$.trim($(".Fm_Date").val()).length?(error_Fm_Date="مطلوب",$("#error_Fm_Date").text(error_Fm_Date)):(error_Fm_Date="",$("#error_Fm_Date").text(error_Fm_Date)),0==$.trim($(".Fm_State").val()).length?(error_Fm_State="مطلوب",$("#error_Fm_State").text(error_Fm_State)):(error_Fm_State="",$("#error_Fm_State").text(error_Fm_State))}function fuelMoney_insertdata(){var data={Fm_Number:$(".Fm_Number").val(),Fm_Date:$(".Fm_Date").val(),Fm_State:$(".Fm_State").val()};$.ajax({method:"POST",url:"fuelMoney-store",data:data,success:function(response){var tabldata;alertify.set("notifier","position","top-center"),alertify.success(response.status),$("#fuelMoney_data").DataTable().ajax.reload()}})}function fuelMoney_filldata(){$(document).ready((function(){$.ajax({type:"GET",url:"fuelMoney-filldata",success:function(response){$("#Fm_State").append("<option selected>Select State</option>"),$.each(response.getstate,(function(indexInArray,valueOfElement){$("#Fm_State").append('<option value="'+valueOfElement.St_Name+'">'+valueOfElement.St_Name+"</option>")}))}})}))}function fuelMoney_fetch(){$(document).ready((function(){var fuelMoneyState,data={fmState:$("#Fm_Filter").val()},tabledata=$("#fuelMoney_data").DataTable({responsive:!0,processing:!0,serverSide:!0,order:[],ajax:{type:"GET",data:data,url:"fuelMoney-fetch"},columns:[{data:"Fm_ID"},{data:"Fm_Number"},{data:"Fm_Date"},{data:"Fm_State"},{data:null,render:function(data,type){return"display"===type?'<button  class="btn btn-success btn-sm m-1 fuelMoneyEdit"><i class="bi bi-pen"></i> تعديل </button><button  class="btn btn-danger btn-sm m-1 fuelMoneyDelete"><i class="bi bi-trash"></i> حذف </button><button  class="btn btn-secondary btn-sm m-1 fuelMoneyPrint"><i class="bi bi-printer"></i>  طباعة</button>':data}}],columnDefs:[{targets:[0,4],orderable:!1}],lengthMenu:[[5,10,15,20,25,100],[5,10,15,20,25,100]],language:{decimal:"",emptyTable:"لا توجد بيانات",info:"عرض _START_ من _END_ من _TOTAL_ مدخلات",infoEmpty:"عرض 0 to 0 of 0 مدخلات",infoFiltered:"(filtered from _MAX_ total entries)",infoPostFix:"",thousands:",",lengthMenu:"عرض _MENU_ مدخلات",loadingRecords:"Loading...",processing:"معالجة.....",search:"بحث:",zeroRecords:"لا توجد بيانات مطابقة لعملية البحث",paginate:{first:"الاول",last:"الاخير",next:"التالي",previous:"السابق"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}})}))}function fuelMoney_update(){var data={Fm_ID:$(".Fm_ID").val(),Fm_Number:$(".Fm_Number").val(),Fm_Date:$(".Fm_Date").val(),Fm_State:$(".Fm_State").val()};$.ajax({method:"POST",url:"fuelMoney-update",data:data,success:function(response){var tabldata;alertify.set("notifier","position","top-center"),alertify.success(response.status),$("#fuelMoney_data").DataTable().ajax.reload()}})}function number_format(number,decimals,decPoint,thousandsSep){decimals=decimals||0,number=parseFloat(number),decPoint&&thousandsSep||(decPoint=".",thousandsSep=",");for(var roundedNumber=Math.round(Math.abs(number)*("1e"+decimals))+"",numbersString=decimals?roundedNumber.slice(0,-1*decimals):roundedNumber,decimalsString=decimals?roundedNumber.slice(-1*decimals):"",formattedNumber="";numbersString.length>3;)formattedNumber+=thousandsSep+numbersString.slice(-3),numbersString=numbersString.slice(0,-3);return(number<0?"-":"")+numbersString+formattedNumber+(decimalsString?decPoint+decimalsString:"")}function fuelMoney2_cleardata(){$("#Fm1_ID").val(""),$("#Fm1_Date").val(""),$("#Fm1_Money").val(""),$("#Fm1_CarNo").val(""),$("#Fm1_CarType").val(""),$("#Fm1_Meter").val(""),$("#Fm1_DriverName").val("")}function fuelMoney2_checkdata(){0==$.trim($(".Fm1_Date").val()).length?(error_Fm1_Date="مطلوب",$("#error_Fm1_Date").text(error_Fm1_Date)):(error_Fm1_Date="",$("#error_Fm1_Date").text(error_Fm1_Date)),0==$.trim($(".Fm1_Money").val()).length?(error_Fm1_Money="مطلوب",$("#error_Fm1_Money").text(error_Fm1_Money)):(error_Fm1_Money="",$("#error_Fm1_Money").text(error_Fm1_Money)),0==$.trim($(".Fm1_CarNo").val()).length?(error_Fm1_CarNo="مطلوب",$("#error_Fm1_CarNo").text(error_Fm1_CarNo)):(error_Fm1_CarNo="",$("#error_Fm1_CarNo").text(error_Fm1_CarNo)),0==$.trim($(".Fm1_CarType").val()).length?(error_Fm1_CarType="مطلوب",$("#error_Fm1_CarType").text(error_Fm1_CarType)):(error_Fm1_CarType="",$("#error_Fm1_CarType").text(error_Fm1_CarType)),0==$.trim($(".Fm1_Meter").val()).length?(error_Fm1_Meter="مطلوب",$("#error_Fm1_Meter").text(error_Fm1_Meter)):(error_Fm1_Meter="",$("#error_Fm1_Meter").text(error_Fm1_Meter)),0==$.trim($(".Fm1_DirverName").val()).length?(error_Fm1_DirverName="مطلوب",$("#error_Fm1_DirverName").text(error_Fm1_DirverName)):(error_Fm1_DirverName="",$("#error_Fm1_DirverName").text(error_Fm1_DirverName))}function fuelMoney2_insertdata(){var data={Fm1_FK_Fm:$("#Fm1_FK_Fm").val(),Fm1_Date:$("#Fm1_Date").val(),Fm1_Money:$("#Fm1_Money").val(),Fm1_CarNo:$("#Fm1_CarNo").val(),Fm1_CarType:$("#Fm1_CarType").val(),Fm1_Meter:$("#Fm1_Meter").val(),Fm1_DriverName:$("#Fm1_DriverName").val()};$.ajax({type:"POST",url:"fm1-store",data:data,success:function(response){var tabldata2;alertify.set("notifier","position","top-center"),alertify.success(response.status),$("#fuelMoney2_data").DataTable().ajax.reload()}})}function fuelMoney2_filldata(){$(document).ready((function(){$.ajax({type:"GET",url:"fm1-filldata",success:function(response){$("#Fm1_CarNoBrowser").empty(),$.each(response.getcarno,(function(indexInArray,valueOfElement){$("#Fm1_CarNoBrowser").append('<option value="'+valueOfElement.CarNO+'">')})),$("#Fm1_CarTypeBrowser").empty(),$.each(response.getcartype,(function(indexInArray,valueOfElement){$("#Fm1_CarTypeBrowser").append('<option value="'+valueOfElement.CarType+'">')})),$("#Fm1_DriverNameBrowser").empty(),$.each(response.getdrivername,(function(indexInArray,valueOfElement){$("#Fm1_DriverNameBrowser").append('<option value="'+valueOfElement.Emp_EmployeeName+'">')}))}})}))}function fuelMoney2_fetch(){$(document).ready((function(){var tabledata2=$("#fuelMoney2_data").DataTable({responsive:!0,processing:!0,serverSide:!0,order:[],ajax:{type:"GET",data:{getid:$("#Fm1_FK_Fm").val()},url:"fm1-fetch"},columns:[{data:"Fm1_Date"},{data:"Fm1_Money"},{data:"Fm1_CarNo"},{data:"Fm1_CarType"},{data:"Fm1_Meter"},{data:null,render:function(data,type){return"display"===type?'<button  class="btn btn-success btn-sm m-1 fuelMoney2Edit"><i class="bi bi-pen"></i> تعديل </button><button  class="btn btn-danger btn-sm m-1 fuelMoney2Delete"><i class="bi bi-trash"></i> حذف </button><button  class="btn btn-secondary btn-sm m-1 fuelMoney2Display"><i class="bi bi-info"></i></button>':data}}],columnDefs:[{targets:[0,5],orderable:!1}],lengthMenu:[[5,10,15,20,25,50,100],[5,10,15,20,25,50,100]],language:{decimal:"",emptyTable:"لا توجد بيانات",info:"عرض _START_ من _END_ من _TOTAL_ مدخلات",infoEmpty:"عرض 0 to 0 of 0 مدخلات",infoFiltered:"(filtered from _MAX_ total entries)",infoPostFix:"",thousands:",",lengthMenu:"عرض _MENU_ مدخلات",loadingRecords:"Loading...",processing:"معالجة.....",search:"بحث:",zeroRecords:"لا توجد بيانات مطابقة لعملية البحث",paginate:{first:"الاول",last:"الاخير",next:"التالي",previous:"السابق"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}})}))}function fuelMoney2_update(){var data={Fm1_ID:$("#Fm1_ID").val(),Fm1_FK_Fm:$("#Fm1_FK_Fm").val(),Fm1_Date:$("#Fm1_Date").val(),Fm1_Money:$("#Fm1_Money").val(),Fm1_CarNo:$("#Fm1_CarNo").val(),Fm1_CarType:$("#Fm1_CarType").val(),Fm1_Meter:$("#Fm1_Meter").val(),Fm1_DriverName:$("#Fm1_DriverName").val()};$.ajax({type:"POST",url:"fm1-update",data:data,success:function(response){var tabldata2,tabldata3;alertify.set("notifier","position","top-center"),alertify.success(response.status),$("#fuelMoney2_data").DataTable().ajax.reload(),fuelMoney2_total(),$("#fuelMoney_data").DataTable().ajax.reload()}})}fuelMoney_fetch(),fuelMoney_filldata(),$(document).on("click",".fuelMoneyAdd",(function(){var displaycard=document.getElementById("fuelMoneyaction");"none"==displaycard.style.display?(document.getElementById("card_fuelMoneytitle").innerText="اضافة سلفة",$.ajax({type:"GET",url:"fuelMoney-maxfuel",success:function(response){$.each(response.getmaxFm,(function(indexInArray,valueOfElement){$("#Fm_Number").val(valueOfElement.MaxValue)})),$("#Fm_State").val("Inactive")}}),displaycard.style.display="block",document.getElementById("card_fuelMoneytitle").scrollIntoView()):(displaycard.style.display="none",document.getElementById("card_fuelMoneytitle").innerText="",fuelMoney_cleardata(),displaycard.style.display="block",document.getElementById("card_fuelMoneytitle").innerText="اضافة سلفة جديدة",document.getElementById("card_fuelMoneytitle").scrollIntoView())})),$(document).on("click",".fuelMoneyClose",(function(){var displaycard=document.getElementById("fuelMoneyaction");fuelMoney_cleardata(),document.getElementById("card_fuelMoneytitle").innerText="",$(".fuelMoneyItem").prop("disabled",!0),displaycard.style.display="none";var displaycard2=document.getElementById("fuelMoney2action");fuelMoney2_cleardata(),document.getElementById("card_fuelMoney2title").innerText="",displaycard2.style.display="none";var displaycard3=document.getElementById("fuelMoney2card"),tabldata;$("#fuelMoney2_data").DataTable().destroy(),displaycard3.style.display="none"})),$(document).on("click",".fuelMoneySave",(function(){var Fm_ID;if(""==document.getElementById("Fm_ID").value){if(fuelMoney_checkdata(),""!=error_Fm_Number||""!=error_Fm_Date||""!=error_Fm_State)return!1;fuelMoney_insertdata(),fuelMoney_cleardata()}else{if(fuelMoney_checkdata(),""!=error_Fm_Number||""!=error_Fm_Date||""!=error_Fm_State)return!1;fuelMoney_update(),fuelMoney_cleardata()}})),$(document).on("click",".fuelMoneyDelete",(function(){var tabledata,fuelMoney=$("#fuelMoney_data").DataTable().row($(this).closest("tr")).data(),fuelMoneyvalue=fuelMoney[Object.keys(fuelMoney)[0]];$.ajax({type:"GET",url:"users-getPermissions",success:function(response){$.each(response,(function(indexInArray,valueOfElement){valueOfElement.P_Delete?$.ajax({type:"POST",url:"fuelMoney-delete",data:{getid:fuelMoneyvalue},success:function(response){alertify.set("notifier","position","top-center"),alertify.success(response.status),$("#fuelMoney_data").DataTable().ajax.reload()}}):$(".fuelMoneyDelete").prop("disabled",!0)}))}})})),$(document).on("click",".fuelMoneyEdit",(function(){var tabledata,fuelMoney=$("#fuelMoney_data").DataTable().row($(this).closest("tr")).data(),fuelMoneyvalue=fuelMoney[Object.keys(fuelMoney)[0]];$.ajax({type:"GET",url:"fuelMoney-edit",data:{getid:fuelMoneyvalue},success:function(response){$.each(response,(function(key,value){$("#Fm_ID").val(value.Fm_ID),$("#Fm_Number").val(value.Fm_Number),$("#Fm_Date").val(value.Fm_Date),$("#Fm_State").val(value.Fm_State);var displaycard=document.getElementById("fuelMoneyaction");"none"==displaycard.style.display?(document.getElementById("card_fuelMoneytitle").innerText="تعديل البيانات",displaycard.style.display="block",document.getElementById("card_fuelMoneytitle").scrollIntoView()):(displaycard.style.display="none",document.getElementById("card_fuelMoneytitle").innerText="",document.getElementById("card_fuelMoneytitle").innerText="تعديل البيانات",displaycard.style.display="block",document.getElementById("card_fuelMoneytitle").scrollIntoView()),$("#Fm1_FK_Fm").val(value.Fm_ID),$(".fuelMoneyItem").prop("disabled",!1),"Active"==$("#Fm_State").val()&&($(".fuelMoneysave").prop("disabled",!0),$(".fuelMoney2Add").prop("disabled",!0),$(".fuelMoney2Save").prop("disabled",!0))}))}});var displaycard=document.getElementById("fuelMoney2card"),tabldata;"block"==displaycard.style.display&&((tabldata=$("#fuelMoney2_data").DataTable()).destroy(),displaycard.style.display="none");var displaycard2=document.getElementById("fuelMoney2action"),tabldata;"block"==displaycard2.style.display&&((tabldata=$("#fuelMoney2_data").DataTable()).destroy(),displaycard2.style.display="none")})),$(document).on("change",".Fm_Filter",(function(){var tablerefresh;$("#fuelMoney_data").DataTable().destroy(),fuelMoney_fetch()})),$(document).on("click",".fuelMoneyPrint",(function(){var tabledata,fuelMoney=$("#fuelMoney_data").DataTable().row($(this).closest("tr")).data(),fuelMoneyvalue,data={getfuelmoneynumber:fuelMoney[Object.keys(fuelMoney)[0]]};$.ajax({type:"GET",url:"datainfo",data:data,success:function(response){var a=document.createElement("a");a.href="printfuelmoney",window.open(a.href,"_blank")}})})),$(document).on("click",".fuelMoneyItem",(function(){var displaycard=document.getElementById("fuelMoney2card");if("none"==displaycard.style.display)fuelMoney2_fetch(),fuelMoney2_filldata(),displaycard.style.display="block",document.getElementById("fuelMoney2card").scrollIntoView();else{var tabldata=$("#fuelMoney2_data").DataTable();tabldata.destroy(),displaycard.style.display="none"}var displaycard2=document.getElementById("fuelMoney2action");"block"==displaycard2.style.display&&(tabldata.destroy(),displaycard2.style.display="none")})),$(document).on("click",".fuelMoney2Add",(function(){var displaycard=document.getElementById("fuelMoney2action");"none"==displaycard.style.display?(document.getElementById("card_fuelMoney2title").innerText="اضافة مبلغ",displaycard.style.display="block",document.getElementById("card_fuelMoney2title").scrollIntoView()):(displaycard.style.display="none",document.getElementById("card_fuelMoney2title").innerText="",fuelMoney2_cleardata(),displaycard.style.display="block",document.getElementById("card_fuelMoney2title").innerText="اضافة مبلغ",document.getElementById("card_fuelMoney2title").scrollIntoView())})),$(document).on("click",".fuelMoney2Close",(function(){var displaycard=document.getElementById("fuelMoney2action");fuelMoney2_cleardata(),document.getElementById("card_fuelMoney2title").innerText="",displaycard.style.display="none"})),$(document).on("click",".fuelMoney2Save",(function(){var Fm1_ID;if(""==document.getElementById("Fm1_ID").value){if(fuelMoney2_checkdata(),""!=error_Fm1_Date||""!=error_Fm1_Money||""!=error_Fm1_CarNo||""!=error_Fm1_CarType||""!=error_Fm1_Meter)return!1;fuelMoney2_insertdata(),fuelMoney2_cleardata()}else fuelMoney2_update(),fuelMoney2_cleardata()})),$(document).on("click",".fuelMoney2Delete",(function(){var tabledata,fuelMoney2=$("#fuelMoney2_data").DataTable().row($(this).closest("tr")).data(),fuelMoney2value=fuelMoney2[Object.keys(fuelMoney2)[0]];$.ajax({type:"GET",url:"users-getPermissions",success:function(response){$.each(response,(function(indexInArray,valueOfElement){valueOfElement.P_Delete?$.ajax({type:"POST",url:"fm1-delete",data:{getid:fuelMoney2value},success:function(response){alertify.set("notifier","position","top-center"),alertify.success(response.status),$("#fuelMoney2_data").DataTable().ajax.reload()}}):$(".fuelMoney2Delete").prop("disabled",!0)}))}})})),$(document).on("click",".fuelMoney2Edit",(function(){var tabledata,fuelMoney2=$("#fuelMoney2_data").DataTable().row($(this).closest("tr")).data(),fuelMoney2value=fuelMoney2[Object.keys(fuelMoney2)[0]];$.ajax({type:"GET",url:"fm1-edit",data:{getid:fuelMoney2value},success:function(response){$.each(response,(function(key,value){$("#Fm1_ID").val(value.Fm1_ID),$("#Fm1_FK_Fm").val(value.Fm1_FK_Fm),$("#Fm1_Date").val(value.Fm1_Date),$("#Fm1_Money").val(value.Fm1_Money),$("#Fm1_CarNo").val(value.Fm1_CarNo),$("#Fm1_CarType").val(value.Fm1_CarType),$("#Fm1_Meter").val(value.Fm1_Meter),$("#Fm1_DriverName").val(value.Fm1_DriverName);var displaycard=document.getElementById("fuelMoney2action");"none"==displaycard.style.display?(document.getElementById("card_fuelMoney2title").innerText="تعديل البيانات",displaycard.style.display="block",document.getElementById("card_fuelMoney2title").scrollIntoView()):(displaycard.style.display="none",document.getElementById("card_fuelMoney2title").innerText="",document.getElementById("card_fuelMoney2title").innerText="تعديل البيانات",displaycard.style.display="block",document.getElementById("card_fuelMoney2title").scrollIntoView())}))}})})),$(document).ready((function(){$("#Fm1_Meter").on("keypress",(function(event){var regex=new RegExp("^[.0-9]+$"),key=String.fromCharCode(event.charCode?event.charCode:event.which);if(!regex.test(key))return event.preventDefault(),!1})),$("#Fm1_Money").on("keypress",(function(event){var regex=new RegExp("^[.0-9]+$"),key=String.fromCharCode(event.charCode?event.charCode:event.which);if(!regex.test(key))return event.preventDefault(),!1}))})),$(document).ready((function(){$.ajax({type:"GET",url:"users-getPermissions",success:function(response){$.each(response,(function(indexInArray,valueOfElement){valueOfElement.P_Update||$(".fuelMoneyDisplay")}))}})}));